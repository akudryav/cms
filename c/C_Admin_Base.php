<?php//// Базовый контроллер сайта.//abstract class C_Admin_Base extends C_Controller{	protected $title;		// заголовок страницы	protected $content;		// содержание страницы	protected $needLogin;	// необходима ли авторизация	protected $user;		// авторизованный пользователь || null	protected $styles;	protected $scripts;	//	// Конструктор.	//	function __construct()	{			parent::__construct();		$this->needLogin = true;		$this->styles = array('bootstrap', 'admstyle', 'jquery-ui-1.10.1.custom.min');     //, 'lightbox');		$this->scripts = array('jQuery', 'bootstrap.min', 'jquery-ui-1.10.1.custom.min');  //, 'jquery-1.10.2.min', 'lightbox-2.6.min');		$this->user = M_Users::Instance()->Get();		$this->template_class->set_base('core/');	}		protected function before()	{		if($this->needLogin && $this->user === null)			$this->redirect('/auth/login');			$this->title = 'Консоль администратора';		$this->content = '';	}		//	// Генерация базового шаблонаы	//		public function render()	{		$vars = array('title' => $this->title, 'content' => $this->content,					  'styles' => $this->styles, 'scripts' => $this->scripts,					  'user' => $this->user['login'], 'langs' => I18n::langs_arr(),					  'current' => I18n::language(), 'return' => '/' . implode('/', $this->params));			$page = $this->Template('v_admin.php', $vars);						echo $page;	}	}