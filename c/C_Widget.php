<?phpclass C_Widget extends C_Controller{	private $content;		//	// Конструктор.	//	public function __construct(){		parent::__construct();		$this->content = '';		$this->template_maker = TEMPLATE_MAKER;		$this->template_class->set_base('themes/' . CURENT_THEME . '/');	}		public function before(){	}		public function render(){		echo $this->content;	}		public function action_gallery(){		$id_gallery = isset($this->params[2]) ? (int)$this->params[2] : 1;		$this->content = $this->Template('widgets/v_gallery.php', 						array('images' => M_Gallery::Instance()->get_images($id_gallery, true)));	}	public function action_slider(){		$id_gallery = isset($this->params[2]) ? (int)$this->params[2] : 1;		$this->content = $this->Template('widgets/v_slider.php', 						array('images' => M_Gallery::Instance()->get_images($id_gallery, true)));	}	public function action_documents(){		$id_doc = isset($this->params[2]) ? (int)$this->params[2] : 1;		$this->content = $this->Template('widgets/v_docs.php', 						array('doc' => M_Docs::Instance()->get($id_doc)));	}    public function action_news(){               $news = M_Articles::Instance()->latest(2);        $this->content = $this->Template('widgets/v_news.php',                         array('news' => $news));    }        public function action_latest_news(){                $id_article = $this->params[2];        if($id_article == NULL) $id_article = 0;        $news = M_Articles::Instance()->latest(5 , $id_article);        foreach($news as $key=>$new){            $news[$key]['intro'] = M_Articles::Instance()->intro($new['content'], 250, true);        }        $this->content = $this->Template('widgets/v_latest_news.php',                         array('news' => $news));    }		public function action_languages(){		$return = array_slice($this->params, 2);		$this->content = $this->Template('widgets/v_langs.php', array('langs' => I18n::langs_arr(),			'current' => I18n::language(),			'return' => '/' . implode('/', $return))		);	}	public function action_text(){		if(!isset($this->params[2])) return;		$this->content = Helpers::text($this->params[2]);	}}